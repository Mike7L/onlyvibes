# üéµ OnlyMusic

–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π YouTube - –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö.

## üì± –í–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üåê PWA (Progressive Web App) - **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è iPhone** ‚≠ê

–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ iPhone (5 –º–∏–Ω—É—Ç):

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ–∑ App Store
- ‚úÖ –ë–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (30-60 –º–∏–Ω)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –û—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –§–æ–Ω–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**
```bash
cd pwa
python3 -m http.server 8080
```

–ù–∞ iPhone Safari: `http://YOUR_MAC_IP:8080` ‚Üí Share ‚Üí Add to Home Screen

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [pwa/README.md](pwa/README.md) - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [DEPLOY_PWA.md](DEPLOY_PWA.md) - Production –¥–µ–ø–ª–æ–π (GitHub Pages, Netlify, Vercel)

### üíª TUI (Terminal UI) - Desktop –≤–µ—Ä—Å–∏—è

–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –º—É–∑—ã–∫–∏ —Å YouTube —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–æ—Ä–∫—Ñ–ª–æ—É –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéØ **10 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –º—É–∑—ã–∫–∏** - –≥–æ—Ç–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞
- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** - –Ω–∞—Ö–æ–¥–∏—Ç 10 —Ç—Ä–µ–∫–æ–≤ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- ‚ñ∂Ô∏è **–ê–≤—Ç–æ–ø–ª–µ–π** - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≤–µ—Å—å –ø–ª–µ–π–ª–∏—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üíæ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- üîÑ **–§–æ–Ω–æ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞–≥—Ä—É–∑–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- üîå **yt-putty engine** - –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –æ—Ç `yt-dlp` –ø–∞—Ä—Å–µ—Ä (JS library)
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à–∞** - –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
- üìã **–í–∏–∑—É–∞–ª—å–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç** - —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –∫–µ—à–∞ (üíæ/‚òÅÔ∏è)
- üìù **Unified Logging** - —Ä–æ—Ç–∏—Ä—É–µ–º—ã–µ –ª–æ–≥–∏ –≤ Python (`app.log`) –∏ `localStorage` –ª–æ–≥–∏ –≤ PWA
- üß™ **PWA Test Profile** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `yt-dlp`

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# macOS (Homebrew)
brew install yt-dlp mpv
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
python3 streamer.py
```

### –í–æ—Ä–∫—Ñ–ª–æ—É

1. **–í—ã–±–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ –ø–æ–∏—Å–∫** - –≤—ã–±–µ—Ä–∏—Ç–µ 1-10, –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞.
2. **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏ –∑–∞–ø—É—Å–∫** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç 10 —Ç—Ä–µ–∫–æ–≤ –∏ —Å—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–≥—Ä–∞—Ç—å.
3. **–°–º–∞—Ä—Ç-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–∫–∞ –≤—ã —Å–ª—É—à–∞–µ—Ç–µ, —Å–ª–µ–¥—É—é—â–∏–µ —Ç—Ä–µ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º

- `c` - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–µ—à–∞
- `x` - –æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º

–í–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã `mpv`:

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `Space` | –ü–∞—É–∑–∞/–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ |
| `‚Üê` / `‚Üí` | –ü–µ—Ä–µ–º–æ—Ç–∫–∞ ¬±5 —Å–µ–∫—É–Ω–¥ |
| `‚Üë` / `‚Üì` | –ì—Ä–æ–º–∫–æ—Å—Ç—å |
| `n` | –°–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫ |
| `p` | –ü—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫ |
| `l` / `+` | –õ–∞–π–∫ (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞) |
| `d` / `-` | –î–∏–∑–ª–∞–π–∫ (—Å–∫—Ä—ã—Ç—å –∏ –Ω–µ –∏–≥—Ä–∞—Ç—å) |
| `q` | –í—ã—Ö–æ–¥ |

## üíæ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ–∞–π–ª—ã

```
~/.cache/youtube-music-streamer/
‚îú‚îÄ‚îÄ <hash1>.m4a
‚îú‚îÄ‚îÄ <hash2>.m4a
‚îî‚îÄ‚îÄ cache_metadata.json
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- üì∂ –û—Ñ—Ñ–ª–∞–π–Ω –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ
- üí∞ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–∏
- üéµ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞—É–¥–∏–æ (M4A)

### –§–æ–Ω–æ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –æ–ø—Ü–∏–∏ 1 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
- –ü–µ—Ä–≤—ã–π —Ç—Ä–µ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–≥—Ä–∞—Ç—å —Å—Ä–∞–∑—É
- –°–ª–µ–¥—É—é—â–∏–µ 5 —Ç—Ä–µ–∫–æ–≤ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ
- –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Ç—Ä–µ–∫–∞–º–∏

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ
```bash
python3 streamer.py
# –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
# –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –Ω–∞—á–∞–ª–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω
```bash
python3 streamer.py
# –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: 1
# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: 2 (–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë)
# –¢—Ä–µ–∫–∏ —Å–∫–∞—á–∞—é—Ç—Å—è –∏ –Ω–∞—á–Ω—É—Ç –∏–≥—Ä–∞—Ç—å
```

### –ü—Ä–∏–º–µ—Ä 3: –°–≤–æ–π –∑–∞–ø—Ä–æ—Å
```bash
python3 streamer.py
# –í—ã–±–µ—Ä–∏—Ç–µ: 0
# –í–≤–µ–¥–∏—Ç–µ: "pink floyd"
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Python 3.6+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Å—Ç—Ä–∏–º–µ—Ä–∞
- **yt-putty (JS Library)** - –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–≤–∏–∂–æ–∫ –ø–æ–∏—Å–∫–∞ –∏ —Ä–µ–∑–æ–ª–≤–∏–Ω–≥–∞ (Piped/Invidious/YouTube)
- **yt-dlp** - —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–∏—Å–∫
- **mpv** - –º–µ–¥–∏–∞–ø–ª–µ–µ—Ä –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞
- **Threading** - —Ñ–æ–Ω–æ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **JSON Metadata** - —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–∏
- **MD5** - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ URL –¥–ª—è –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤
- **Logging** - `logging.handlers.RotatingFileHandler` –¥–ª—è Python –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π `Logger` –¥–ª—è PWA
- **PWA Mode** - —Ä–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`yt-dlp`)

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞

- **–ú–µ–Ω—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- **–ë–æ–ª—å—à–µ –¥–µ–π—Å—Ç–≤–∏–π** - —Å—Ä–∞–∑—É 10 —Ç—Ä–µ–∫–æ–≤
- **–£–º–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤ —Ñ–æ–Ω–µ, –Ω–µ –º–µ—à–∞–µ—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—é
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–µ—à–∞, –ø—Ä–æ–≥—Ä–µ—Å—Å
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –±–µ–∑ –º—É—Å–æ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ!

